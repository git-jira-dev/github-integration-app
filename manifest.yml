modules:
  jira:adminPage:
    - key: github-integration-app-settings
      resource: app-settings
      resolver:
        function: app-settings-resolver
      render: native
      title: GitHub settings
  jira:issueContext:
    - key: github-integration-github-panel
      resource: github-panel
      resolver:
        function: github-panel-resolver
      render: native
      title: GitHub
      label: GitHub pull requests
  webtrigger:
    - key: github-pr-trigger
      function: github-webhook-fn
  function:
    - key: app-settings-resolver
      handler: index.appSettingsHandler
    - key: github-panel-resolver
      handler: index.gitHubPanelHandler
    - key: github-webhook-fn
      handler: webhook/github-webhook.run

resources:
  - key: app-settings
    path: src/frontend/app-settings/index.jsx
  - key: github-panel
    path: src/frontend/github-panel/index.jsx
permissions:
  scopes:
    - storage:app
    - read:jira-work
    - write:jira-work
app:
  runtime:
    name: nodejs22.x
    memoryMB: 256
    architecture: arm64
  id: ari:cloud:ecosystem::app/b4ccf637-5941-45a8-8a7d-f6f39faf3b1a
